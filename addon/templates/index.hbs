<AuToolbar @border="bottom" @size="large">
  <AuToolbarGroup class="au-c-toolbar_space-between">
    <AuHeading @skin="2">Job Overview</AuHeading>
    <AuButton @skin="secondary" {{on 'click' this.resetFilter}}>
      <i class="vi vi-cross vi-u-link button__icon" aria-hidden="true"></i> Reset all filters
    </AuButton>
  </AuToolbarGroup>
  <AuToolbarGroup class="au-c-toolbar__group--row">
    <ul class="au-o-grid">
      <li class="au-o-grid__item au-u-1-2 au-u-1-6@medium">
        <label class="label--subtle form__label">Creator</label>
        <CreatorFilter
          @value={{this.creatorValue}}
          @onChange={{perform this.updateSearch}}
        />
      </li>
      <li class="au-o-grid__item au-u-1-2 au-u-1-6@medium">
        <label class="label--subtle form__label">Operation</label>
        <OperationFilter
          @value={{this.operationValue}}
          @onChange={{perform this.updateSearch}}
        />
      </li>
    </ul>
  </AuToolbarGroup>
</AuToolbar>

<AuDataTable
  @content={{this.model}}
  @isLoading={{this.queryStore.isRunning}}
  @fields="title description"
  @noDataMessage="No jobs found"
  @sort={{this.sort}}
  @size={{this.size}}
  @page={{this.page}} as |t|>
  <t.content as |c|>
    <c.header>
      <th class="au-u-visible-small-up">uri</th>
      <AuDataTableThSortable @field="created" @currentSorting={{this.sort}} @label="Created" @class="data-table__header-title" />
      <AuDataTableThSortable @field="modified" @currentSorting={{this.sort}} @label="Modified" @class="data-table__header-title" />
      <AuDataTableThSortable @field="creator" @currentSorting={{this.sort}} @label="Creator" @class="data-table__header-title" />
      <AuDataTableThSortable @field="operation" @currentSorting={{this.sort}} @label="Operation" @class="data-table__header-title" />
      <AuDataTableThSortable @field="status" @currentSorting={{this.sort}} @label="Status" @class="data-table__header-title" />
      <th class="au-u-visible-small-up">Action</th>
    </c.header>
    <c.body as |row|>
      <td>
        {{row.uri}}
      </td>
      <td>
        {{moment-format row.created 'DD/MM/YYYY HH:mm:ss'}}
      </td>
      <td class="au-u-visible-small-up">
          {{moment-format row.modified 'DD/MM/YYYY HH:mm:ss'}}
      </td>
      <td class="au-u-visible-medium-up">
          {{row.creator}}
      </td>
      <td class="au-u-visible-small-up au-word-wrap">
          {{row.operation}}
      </td>
      <td class="au-u-visible-small-up">
          <StatusPill @status={{row.shortStatus}}></StatusPill>
      </td>
      <td class="au-u-visible-large-up">
        <LinkTo @route="details" @model={{row}} >
          <AuButton @skin="primary">
            view
          </AuButton>
        </LinkTo>
      </td>
    </c.body>
  </t.content>
</AuDataTable>
